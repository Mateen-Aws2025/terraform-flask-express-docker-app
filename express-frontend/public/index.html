<!DOCTYPE html>
<html>
<head>
  <title>Flask + Express ALB Demo</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    form {
      max-width: 400px;
    }
    input, textarea, select, button {
      width: 100%;
      margin: 8px 0;
      padding: 8px;
    }
  </style>
</head>
<body>

  <h1>User Registration Form</h1>

  <form id="dataForm">
    <input type="text" name="name" placeholder="Full Name" required />

    <input type="email" name="email" placeholder="Email Address" required />

    <input type="number" name="age" placeholder="Age" required />

    <input type="text" name="city" placeholder="City" required />

    <select name="role" required>
      <option value="">Select Role</option>
      <option value="student">Student</option>
      <option value="engineer">Engineer</option>
      <option value="devops">DevOps Engineer</option>
      <option value="other">Other</option>
    </select>

    <textarea name="message" placeholder="Additional Message" rows="4"></textarea>

    <button type="submit">Submit</button>
  </form>

  <h3>Backend Response</h3>
  <pre id="result"></pre>

  <script>
    const form = document.getElementById("dataForm");
    const result = document.getElementById("result");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const data = {
        name: form.name.value,
        email: form.email.value,
        age: form.age.value,
        city: form.city.value,
        role: form.role.value,
        message: form.message.value
      };

      try {
        const res = await fetch("/api/submit", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(data)
        });

        const json = await res.json();
        result.textContent = JSON.stringify(json, null, 2);
      } catch (err) {
        result.textContent = "Error contacting backend";
      }
    });
  </script>

</body>
</html>
